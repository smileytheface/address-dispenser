<div class="filter-bottom-sheet">
  <mat-icon id="filter-icon" alt="filter-icon">filter_alt</mat-icon>
  <!-- dropdown for filter by -->
  <mat-form-field
    appearance="outline"
    id="filter-by-dropdown"
    class="my-mat-form-field"
  >
    <mat-label>Filter By...</mat-label>
    <mat-select
      name="filterBy"
      [(ngModel)]="filterBy"
      (selectionChange)="onFilterByChange()"
    >
      <mat-option
        *ngFor="let filterByOption of filterByOptions"
        [value]="filterByOption"
        >{{ formatOption(filterByOption) }}</mat-option
      >
    </mat-select>
  </mat-form-field>

  <mat-divider *ngIf="filterBy"></mat-divider>

  <!-- Filter search -->
  <form class="filter-search">
    <mat-form-field
      appearance="outline"
      class="full-width my-mat-form-field"
      id="search-bar"
      *ngIf="filterBy"
    >
      <mat-label>Search</mat-label>
      <input
        type="search"
        matInput
        [(ngModel)]="searchTerm"
        name="searchTerm"
      />
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </form>

  <!-- Filter options -->
  <p *ngFor="let filterOption of filteredFilterOptions">
    <mat-checkbox
      color="primary"
      (change)="onFilterOptionChange(filterBy, filterOption, $event.checked)"
      [checked]="isChecked(filterOption, filterBy)"
    >
      {{ formatFilterOption(filterOption) }}
    </mat-checkbox>
  </p>
</div>
